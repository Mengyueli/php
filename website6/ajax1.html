<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Ajax1--请求纯文本数据</title>
</head>
<body>
	<button id="button">请求纯文本</button>
	<div id="text"></div>
</body>
<script type="text/javascript">
	//监听button对象
	document.getElementById('button').addEventListener('click',loadText);

	//实现loadText方法
	function loadText(){
		//Asynchronous Javascript and XML(ajax)
		// axios Fetch API propotype NODE API jQuery
		//XMLHttpRequest 对象 

		//1.实例化xhr对象
		var xhr = new XMLHttpRequest();
		// console.log(xhr.readyState);//0
		// console.log(xhr);
		//2.配置对象信息(type,url/file,asyn(是否请求异步))
			//默认情况都是异步
		xhr.open("GET","sample.txt",true);
		// console.log(xhr.readyState);//1
		//3.执行处理数据的方法
		xhr.onload = function(){
			// console.log(this.responseText);
			// console.log(xhr.readyState);//4
			if(this.status == 200){
				// console.log(this.responseText);
			}
		}

		//请求处理中 得到状态3
		xhr.onprogress = function(){
			console.log('加载页面' +this.readyState);
		}

		xhr.onreadystatechange = function(){
		// 	// console.log(this.responseText);
		// 	console.log(xhr.readyState);//234
			if (this.readyState ==4 && this.status ==200) {
				// console.log(this.responseText);
				document.getElementById('text').innerHTML = this.responseText;
			}
		}
		//4.发送请求
		xhr.send();

		//readyState状态码
		// 0: 请求未初始化
		// 1: 服务器连接已建立
		// 2: 请求已接收
		// 3: 请求处理中
		// 4: 请求已完成，且响应已就绪

		//网络状态码http
		//200 ok
		//404 未找到




	}
</script>
</html>